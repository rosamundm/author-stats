{% extends "mybooks/index.html" %}

{% load static %}

{% block content %}

<div class="container">

    <div class="book-metadata">
      <h2>{{ book.title }}</h2>
      <p><strong>Date added:</strong> {{ book.date_added }}</p>
    </div>

    <div class="book-stats">
      <p><strong>Current word count:</strong> {{ book.wordcount }}</p>
      <p><strong>Goal word count:</strong> {{ book.goalwordcount }}</p>
      <button onclick="toggleFunction()">View wordcount history</button>
    </div>

        <div id="count-history">
          Hello
          <!--
           {% for wordcount in wordcounts %}
             {{ update.date_added }}: {{ update.wordcount }}
              * date of last update
              * wordcount at that time (get name of function)
             {% endfor %}
             -->
        </div>


    <div class="book-text">
      <h3>Synopsis:</h3>
       <p>{{ book.synopsis }}</p>

       <h3>Review:</h3>
       <p>{{ book.review }}</p>
    </div>


<button>
  <a href="{% url "update" pk=book.pk %}">Make changes</a>
</button>

<button>
  <a href="/success/">Return to my books</a>
</button>


</div>


<!-- to toggle history: -->
<script>
  function toggleFunction() {
    var x = document.getElementById("count-history");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
</script>

{% endblock %}
